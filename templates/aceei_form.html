<!DOCTYPE html>
<html lang="en">
<header>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='aceei.css') }}">
    <div class="overlay">
        <h1>ACEEI Algorithm</h1>
    </div>

</header>
<body>
<div class="aceeiFormContainer">
    <h2>Insert the parameters and run the algorithm</h2>
    <form action="/process" method="POST" id="aceeiForm">
        <!-- Choose Number of Courses -->
        <label for="numberOfCourses">Number of Courses:</label>
        <input type="number" id="numberOfCourses" name="numberOfCourses" min="1" required>
        <button type="button" onclick="addCourseFields()">&#10004;</button><br><br>

        <!-- Courses Input Fields (Generated Dynamically) -->
        <div id="courseFields">
            <!-- Fields for courses will be added dynamically -->
        </div><br><br>

        <!-- Choose Number of Students -->
        <label for="numberOfStudents">Number of Students:</label>
        <input type="number" id="numberOfStudents" name="numberOfStudents" min="1" required>
        <button type="button" onclick="addStudentFields()">&#10004;</button><br><br>

        <!-- Student Input Fields (Generated Dynamically) -->
        <div id="studentFields">
            <!-- Fields for students will be added dynamically -->
        </div><br><br>
        <!-- Epsilon (ε) Input Field -->
        <label for="epsilon">Epsilon (ε):</label>
        <input type="number" id="epsilon" name="epsilon" step="0.01" required><br><br>

        <!-- Delta (δ) Input Field -->
        <label for="delta">Delta (δ):</label>
        <input type="number" id="delta" name="delta" step="0.01" required><br><br>

        <!-- t Input Field with Options -->
        <label for="ef-tb">EF-TB status:</label>
        <select id="ef-tb" name="ef-tb" required>
{#            <option value="">Choose EF-TB status</option>#}
            <option value="no EFTB">No EFTB</option>
            <option value="EFTB">EFTB</option>
            <option value="contested EFTB">Contested EFTB</option>
        </select><br><br>

        <input type="submit" value="Run The Algorithm">
    </form>
</div>
<script>
    // Function to add course input fields dynamically
    function addCourseFields() {
        var numberOfCourses = parseInt(document.getElementById('numberOfCourses').value);
        var courseFieldsDiv = document.getElementById('courseFields');
        courseFieldsDiv.innerHTML = ''; // Clear previous fields

        for (var i = 1; i <= numberOfCourses; i++) {
            var courseLabel = document.createElement('label');
            courseLabel.textContent = 'Course ' + i + ' Capacity: ';
            courseFieldsDiv.appendChild(courseLabel);

            var capacityInput = document.createElement('input');
            capacityInput.type = 'number';
            capacityInput.min = 1;
            capacityInput.name = 'c' + i + 'Capacity';
            capacityInput.required = true;
            courseFieldsDiv.appendChild(capacityInput);

            courseFieldsDiv.appendChild(document.createElement('br'));
        }
    }

    // Function to add student input fields dynamically
    function addStudentFields() {
        var numberOfStudents = parseInt(document.getElementById('numberOfStudents').value);
        var studentFieldsDiv = document.getElementById('studentFields');
        studentFieldsDiv.innerHTML = ''; // Clear previous fields

        var numberOfCourses = parseInt(document.getElementById('numberOfCourses').value);

        for (var i = 1; i <= numberOfStudents; i++) {
            var studentLabel = document.createElement('label');
            studentLabel.textContent = 'Student ' + i + ': ';
            studentFieldsDiv.appendChild(studentLabel);

            var budgetLabel = document.createElement('label');
            budgetLabel.textContent = ' Budget: ';
            studentFieldsDiv.appendChild(budgetLabel);

            var budgetInput = document.createElement('input');
            budgetInput.type = 'number';
            budgetInput.name = 's' + i + 'Budget';
            budgetInput.min = 1;
            budgetInput.required = true;
            studentFieldsDiv.appendChild(budgetInput);

            var coursesLabel = document.createElement('label');
            coursesLabel.textContent = ' Courses to Take: ';
            studentFieldsDiv.appendChild(coursesLabel);

            var coursesInput = document.createElement('input');
            coursesInput.type = 'number';
            coursesInput.min = 1;
            coursesInput.name = 's' + i + 'CoursesToTake';
            coursesInput.required = true;
            studentFieldsDiv.appendChild(coursesInput);

            var ratingsLabel = document.createElement('label');
            ratingsLabel.textContent = ' Ratings for Courses: ';
            studentFieldsDiv.appendChild(ratingsLabel);

            for (var j = 1; j <= numberOfCourses; j++) {
                var ratingLabel = document.createElement('label');
                ratingLabel.textContent = ' c' + j + ': ';
                studentFieldsDiv.appendChild(ratingLabel);

                var ratingInput = document.createElement('input');
                ratingInput.type = 'number';
                ratingInput.name = 's' + i + 'c' + j + 'Rating';
                ratingInput.min = 1;
                ratingInput.step = 1;
                ratingInput.required = true;
                ratingInput.placeholder = 'Rating for c' + j;
                studentFieldsDiv.appendChild(ratingInput);
            }
            studentFieldsDiv.appendChild(document.createElement('br'));
        }
    }
</script>
</body>
</html>