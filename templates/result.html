<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <title>Course Allocation Results</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='result.css') }}">
</head>
<body>
<header>
    <div class="backgroundHeader">
        <h1>Course Allocation Results</h1>
    </div>
</header>
<div class="resultsContainer">
    <div class="tableContainer">
        {% if response.algorithm %}
            <h2>Results Of {{ response.algorithm }}</h2>
        {% endif %}
        <table>
            <thead>
                <tr>
                    <th>Student Name</th>
                    <th>Courses The Student Gets</th>
                </tr>
            </thead>
            <tbody>
            {% for key, value in response.items() %}
                {% if key != 'algorithm' %} <!-- Skip the 'algorithm' key -->
                    <tr>
                        <td>
                            {% if key.startswith('s') %}
                                Student {{ key[1:] }}
                            {% else %}
                                {{ key }}
                            {% endif %}
                        </td>
                        <td>
                            {% if value is iterable and not value is string %}
                                {% for item in value %}
                                    {% if item.startswith('c') %}
                                        Course {{ item[1:] }}
                                    {% else %}
                                        {{ item }}
                                    {% endif %}
                                    {% if not loop.last %}, {% endif %}
                                {% endfor %}
                            {% else %}
                                {{ value }}
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
        <br>
        <div class="buttonsContainer">
            <button onclick="goToHomePage()">Back To Home Page</button >
            <button onclick="goBackToAlgorithmPage()">Try The Algorithm Again</button>
        </div>

    </div>
</div>

    <script>
        function goToHomePage() {

            window.location.href = "/";
        }

        function goBackToAlgorithmPage() {
            window.history.back();
        }
    </script>
</body>
</html>
